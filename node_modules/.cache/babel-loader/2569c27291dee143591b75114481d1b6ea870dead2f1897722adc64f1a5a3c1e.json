{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\ikwa-clean-frontend\\\\src\\\\pages\\\\ProductCatalogPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { AnimatePresence } from 'framer-motion';\nimport { Search, Filter, Grid, List, ChevronLeft, ChevronRight, X } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport ProductCard from '../components/products/ProductCard';\nimport FilterSidebar from '../components/products/FilterSidebar';\nimport QuickViewModal from '../components/products/QuickViewModal';\nimport useDebounce from '../hooks/useDebounce';\nimport { productService } from '../services/api';\nimport { useCart } from '../contexts/CartContext';\nimport { useUser } from '../contexts/UserContext';\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from '../components/forms/Select';\nimport Badge from '../components/ui/Badge';\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from '../components/ui/Sheet';\nimport Input from '../components/forms/Input';\nimport Button from '../components/buttons/Button';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductCatalogPage = () => {\n  _s();\n  // Default to list view on mobile, grid on desktop\n  const [viewMode, setViewMode] = useState(() => {\n    return window.innerWidth < 768 ? 'list' : 'grid';\n  });\n  const [showFilters, setShowFilters] = useState(false);\n  const [isMobileFilterOpen, setIsMobileFilterOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(30);\n  const [sortBy, setSortBy] = useState('price_asc');\n  const {\n    addToCart\n  } = useCart();\n  const {\n    isAuthenticated\n  } = useUser();\n  const navigate = useNavigate();\n  const loc = useLocation();\n  const [filters, setFilters] = useState({\n    sizes: null,\n    colors: null,\n    priceRange: null,\n    eras: null,\n    styles: null,\n    conditions: null\n  });\n  const debouncedSearchQuery = useDebounce(searchQuery, 300);\n\n  // Load products from API\n  const [allProducts, setAllProducts] = useState([]);\n  const [loadingProducts, setLoadingProducts] = useState(true);\n  const [offlineFallback, setOfflineFallback] = useState(false);\n  useEffect(() => {\n    let isMounted = true;\n    const offlineHandler = () => setOfflineFallback(true);\n    window.addEventListener('likwapu:offline-fallback', offlineHandler);\n    const loadProducts = async () => {\n      setLoadingProducts(true);\n      try {\n        // getProducts already returns normalized products array\n        const normalized = await productService.getProducts();\n        if (isMounted) {\n          setAllProducts(Array.isArray(normalized) ? normalized : []);\n          try {\n            const buf = Array.isArray(window.__LIK_MONITOR_BUFFER) ? window.__LIK_MONITOR_BUFFER : [];\n            const sawFallback = buf.some(e => e && e.event === 'productService.getProducts fallback to mockProducts');\n            if (sawFallback) setOfflineFallback(true);\n          } catch (_) {}\n        }\n      } catch (error) {\n        console.error('Failed to fetch products:', error);\n        toast.error('Failed to load products');\n      } finally {\n        if (isMounted) setLoadingProducts(false);\n      }\n    };\n    loadProducts();\n    return () => {\n      isMounted = false;\n      window.removeEventListener('likwapu:offline-fallback', offlineHandler);\n    };\n  }, []);\n  useEffect(() => {\n    if (typeof window !== 'undefined' && window.__LIK_OFFLINE_PRODUCTS__) {\n      setOfflineFallback(true);\n    }\n    // Heuristic: if no products loaded and no filters/search applied after load, treat as offline fallback\n    const noFilters = Object.values(filters).every(v => v === null);\n    if (!loadingProducts && allProducts.length === 0 && noFilters && !debouncedSearchQuery) {\n      setOfflineFallback(true);\n    }\n  }, [allProducts, loadingProducts, filters, debouncedSearchQuery]);\n\n  // Calculate active filters count\n  const activeFiltersCount = useMemo(() => {\n    return Object.values(filters).filter(value => value !== null).length;\n  }, [filters]);\n\n  // Get active filters for display\n  const activeFilters = useMemo(() => {\n    const active = {};\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== null) {\n        active[key] = [value]; // Convert to array for display compatibility\n      }\n    });\n    return active;\n  }, [filters]);\n\n  // Remove individual filter\n  const removeFilter = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: null\n    }));\n  };\n\n  // Clear all filters\n  const clearAllFilters = () => {\n    setFilters({\n      eras: null,\n      conditions: null,\n      sizes: null,\n      colors: null,\n      priceRange: null,\n      styles: null\n    });\n  };\n\n  // Filter and sort products\n  const filteredProducts = useMemo(() => {\n    let result = [...allProducts];\n\n    // Apply search\n    if (debouncedSearchQuery) {\n      result = result.filter(product => product.name.toLowerCase().includes(debouncedSearchQuery.toLowerCase()) || product.description.toLowerCase().includes(debouncedSearchQuery.toLowerCase()));\n    }\n\n    // Apply filters - single selection\n    if (filters.sizes) {\n      result = result.filter(product => product.size === filters.sizes);\n    }\n    if (filters.colors) {\n      result = result.filter(product => product.color === filters.colors);\n    }\n    if (filters.eras) {\n      result = result.filter(product => product.decade === filters.eras);\n    }\n    if (filters.styles) {\n      result = result.filter(product => product.style === filters.styles);\n    }\n    if (filters.conditions) {\n      result = result.filter(product => product.condition === filters.conditions);\n    }\n    if (filters.priceRange) {\n      result = result.filter(product => {\n        const price = product.price;\n        switch (filters.priceRange) {\n          case 'Under $25':\n            return price < 25;\n          case '$25 - $50':\n            return price >= 25 && price <= 50;\n          case '$50 - $100':\n            return price >= 50 && price <= 100;\n          case '$100 - $200':\n            return price >= 100 && price <= 200;\n          case 'Over $200':\n            return price > 200;\n          default:\n            return true;\n        }\n      });\n    }\n\n    // Apply sorting\n    switch (sortBy) {\n      case 'price_asc':\n        result.sort((a, b) => a.price - b.price);\n        break;\n      case 'price_desc':\n        result.sort((a, b) => b.price - a.price);\n        break;\n      case 'era_asc':\n        result.sort((a, b) => a.eraYear - b.eraYear);\n        break;\n      case 'era_desc':\n        result.sort((a, b) => b.eraYear - a.eraYear);\n        break;\n      default:\n        result.sort((a, b) => a.price - b.price);\n    }\n    return result;\n  }, [debouncedSearchQuery, filters, sortBy, allProducts]);\n  const products = filteredProducts;\n  const totalPages = Math.ceil(products.length / itemsPerPage);\n  const paginatedProducts = products.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\n  const handleFilterChange = (filterType, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [filterType]: value\n    }));\n    setCurrentPage(1);\n  };\n  const handleQuickView = product => {\n    setSelectedProduct(product);\n  };\n  const handleAddToCart = async product => {\n    const cartItem = {\n      id: product.id,\n      name: product.name,\n      price: product.price,\n      image: product.image,\n      size: Array.isArray(product.sizes) ? product.sizes[0] : product.size || 'M',\n      color: product.color || 'Default',\n      era: product.era,\n      quantity: 1\n    };\n    if (!isAuthenticated) {\n      try {\n        localStorage.setItem('pendingCartItem', JSON.stringify(cartItem));\n      } catch {}\n      toast.error('Please log in to add items to your cart');\n      navigate('/login', {\n        state: {\n          returnTo: loc.pathname\n        }\n      });\n      return;\n    }\n    try {\n      await addToCart(cartItem);\n      toast.success(`${product.name} added to cart!`);\n    } catch (error) {\n      toast.error('Failed to add item to cart');\n      console.error('Cart error:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-white border-b border-gray-200 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 max-w-md\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"search\",\n                placeholder: \"Search products, styles, eras...\",\n                className: \"pl-10 pr-10 w-full\",\n                value: searchQuery,\n                onChange: e => setSearchQuery(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSearchQuery(''),\n                className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4 ml-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hidden md:flex border-2 border-gray-300 rounded-lg overflow-hidden\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewMode('grid'),\n                className: `p-2 ${viewMode === 'grid' ? 'bg-gray-600 text-white' : 'bg-white text-black hover:bg-gray-100'} transition-colors duration-300`,\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewMode('list'),\n                className: `p-2 ${viewMode === 'list' ? 'bg-gray-600 text-white' : 'bg-white text-black hover:bg-gray-100'} transition-colors duration-300`,\n                children: /*#__PURE__*/_jsxDEV(List, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: sortBy,\n              onValueChange: setSortBy,\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                className: \"w-48\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Sort by\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"price_asc\",\n                  children: \"Price (Low to High)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"price_desc\",\n                  children: \"Price (High to Low)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"era_asc\",\n                  children: \"Era (Oldest First)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: \"era_desc\",\n                  children: \"Era (Newest First)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              size: \"sm\",\n              onClick: () => setIsMobileFilterOpen(true),\n              className: \"lg:hidden flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Filter, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this), \"Filter & Sort\", activeFiltersCount > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"destructive\",\n                className: \"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs\",\n                children: activeFiltersCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              size: \"sm\",\n              onClick: () => setShowFilters(!showFilters),\n              className: \"hidden lg:flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Filter, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), \"Filter\", activeFiltersCount > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n                variant: \"destructive\",\n                className: \"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs\",\n                children: activeFiltersCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), activeFiltersCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2 mt-4\",\n          children: [Object.entries(activeFilters).map(([key, values]) => values.map(value => /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"secondary\",\n            className: \"flex items-center gap-1\",\n            children: [value, /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-3 h-3 cursor-pointer\",\n              onClick: () => removeFilter(key, value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 21\n            }, this)]\n          }, `${key}-${value}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 19\n          }, this))), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"link\",\n            size: \"sm\",\n            onClick: clearAllFilters,\n            className: \"text-red-600 hover:text-red-700\",\n            children: \"Clear All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-6\",\n      children: [offlineFallback && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"offline-banner\",\n        className: \"mb-4 rounded-md border-2 border-yellow-300 bg-yellow-50 text-yellow-800 px-4 py-3\",\n        role: \"alert\",\n        children: \"Showing offline products. Some features may be unavailable.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [showFilters && /*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"hidden lg:block w-80 ml-4 md:ml-8 lg:ml-12 xl:ml-16 transition-all duration-300 flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(FilterSidebar, {\n            isOpen: true,\n            onClose: () => {},\n            filters: filters,\n            onFilterChange: handleFilterChange,\n            onClearFilters: clearAllFilters\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: `flex-1 min-w-0 ${showFilters ? 'pl-6 lg:pl-8' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"Showing \", products.length, \" of \", allProducts.length, \" products\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:hidden mb-4 flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex border-2 border-gray-300 rounded-lg overflow-hidden\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewMode('grid'),\n                className: `p-2 ${viewMode === 'grid' ? 'bg-gray-600 text-white' : 'bg-white text-black hover:bg-gray-100'} transition-colors duration-300`,\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewMode('list'),\n                className: `p-2 ${viewMode === 'list' ? 'bg-gray-600 text-white' : 'bg-white text-black hover:bg-gray-100'} transition-colors duration-300`,\n                children: /*#__PURE__*/_jsxDEV(List, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), loadingProducts ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex justify-center items-center py-16\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"animate-spin h-8 w-8 text-gray-700\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                className: \"opacity-25\",\n                cx: \"12\",\n                cy: \"12\",\n                r: \"10\",\n                stroke: \"currentColor\",\n                strokeWidth: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                className: \"opacity-75\",\n                fill: \"currentColor\",\n                d: \"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this) : paginatedProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-lg\",\n              children: \"No products found matching your criteria.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: clearAllFilters,\n              className: \"mt-4\",\n              children: \"Clear Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `grid gap-4 ${viewMode === 'grid' ? 'grid-cols-1 sm:grid-cols-2 md:grid-cols-3' : 'grid-cols-1'}`,\n              children: paginatedProducts.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n                product: product,\n                viewMode: viewMode,\n                onQuickView: () => handleQuickView(product),\n                onAddToCart: () => handleAddToCart(product)\n              }, product.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-12 flex flex-col sm:flex-row items-center justify-between gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Items per page:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: itemsPerPage.toString(),\n                  onValueChange: value => {\n                    setItemsPerPage(Number(value));\n                    setCurrentPage(1);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                    className: \"w-20\",\n                    children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 491,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                    children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: \"12\",\n                      children: \"12\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: \"24\",\n                      children: \"24\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: \"30\",\n                      children: \"30\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: \"48\",\n                      children: \"48\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: \"96\",\n                      children: \"96\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                      value: \"100\",\n                      children: \"100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  size: \"sm\",\n                  onClick: () => setCurrentPage(prev => Math.max(prev - 1, 1)),\n                  disabled: currentPage === 1,\n                  children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: [\"Page \", currentPage, \" of \", totalPages]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  size: \"sm\",\n                  onClick: () => setCurrentPage(prev => Math.min(prev + 1, totalPages)),\n                  disabled: currentPage === totalPages,\n                  children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sheet, {\n      open: isMobileFilterOpen,\n      onOpenChange: setIsMobileFilterOpen,\n      children: /*#__PURE__*/_jsxDEV(SheetContent, {\n        side: \"left\",\n        className: \"w-full sm:w-80 p-0\",\n        children: [/*#__PURE__*/_jsxDEV(SheetHeader, {\n          className: \"p-6 border-b\",\n          children: /*#__PURE__*/_jsxDEV(SheetTitle, {\n            children: \"Filter Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold\",\n              children: \"Filter & Sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsMobileFilterOpen(false),\n              className: \"p-2 hover:bg-gray-100 rounded\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FilterSidebar, {\n            isOpen: isMobileFilterOpen,\n            onClose: () => setIsMobileFilterOpen(false),\n            filters: filters,\n            onFilterChange: handleFilterChange,\n            onClearFilters: clearAllFilters\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: selectedProduct && /*#__PURE__*/_jsxDEV(QuickViewModal, {\n        product: selectedProduct,\n        isOpen: !!selectedProduct,\n        onClose: () => setSelectedProduct(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductCatalogPage, \"tfsjU1IoqeVNDFJa03Q6dPq6nec=\", false, function () {\n  return [useCart, useUser, useNavigate, useLocation, useDebounce];\n});\n_c = ProductCatalogPage;\nexport default ProductCatalogPage;\nvar _c;\n$RefreshReg$(_c, \"ProductCatalogPage\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","useNavigate","useLocation","AnimatePresence","Search","Filter","Grid","List","ChevronLeft","ChevronRight","X","toast","ProductCard","FilterSidebar","QuickViewModal","useDebounce","productService","useCart","useUser","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Badge","Sheet","SheetContent","SheetHeader","SheetTitle","Input","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductCatalogPage","_s","viewMode","setViewMode","window","innerWidth","showFilters","setShowFilters","isMobileFilterOpen","setIsMobileFilterOpen","searchQuery","setSearchQuery","selectedProduct","setSelectedProduct","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","sortBy","setSortBy","addToCart","isAuthenticated","navigate","loc","filters","setFilters","sizes","colors","priceRange","eras","styles","conditions","debouncedSearchQuery","allProducts","setAllProducts","loadingProducts","setLoadingProducts","offlineFallback","setOfflineFallback","isMounted","offlineHandler","addEventListener","loadProducts","normalized","getProducts","Array","isArray","buf","__LIK_MONITOR_BUFFER","sawFallback","some","e","event","_","error","console","removeEventListener","__LIK_OFFLINE_PRODUCTS__","noFilters","Object","values","every","v","length","activeFiltersCount","filter","value","activeFilters","active","entries","forEach","key","removeFilter","prev","clearAllFilters","filteredProducts","result","product","name","toLowerCase","includes","description","size","color","decade","style","condition","price","sort","a","b","eraYear","products","totalPages","Math","ceil","paginatedProducts","slice","handleFilterChange","filterType","handleQuickView","handleAddToCart","cartItem","id","image","era","quantity","localStorage","setItem","JSON","stringify","state","returnTo","pathname","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","target","onClick","onValueChange","variant","map","role","isOpen","onClose","onFilterChange","onClearFilters","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","onQuickView","onAddToCart","toString","Number","max","disabled","min","open","onOpenChange","side","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/ikwa-clean-frontend/src/pages/ProductCatalogPage.jsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { AnimatePresence } from 'framer-motion';\r\nimport {\r\n  Search,\r\n  Filter,\r\n  Grid,\r\n  List,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  X,\r\n} from 'lucide-react';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nimport ProductCard from '../components/products/ProductCard';\r\nimport FilterSidebar from '../components/products/FilterSidebar';\r\nimport QuickViewModal from '../components/products/QuickViewModal';\r\nimport useDebounce from '../hooks/useDebounce';\r\nimport { productService } from '../services/api';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport { useUser } from '../contexts/UserContext';\r\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from '../components/forms/Select';\r\nimport Badge from '../components/ui/Badge';\r\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from '../components/ui/Sheet';\r\nimport Input from '../components/forms/Input';\r\nimport Button from '../components/buttons/Button';\r\n\r\n\r\n\r\nconst ProductCatalogPage = () => {\r\n  // Default to list view on mobile, grid on desktop\r\n  const [viewMode, setViewMode] = useState(() => {\r\n    return window.innerWidth < 768 ? 'list' : 'grid';\r\n  });\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [isMobileFilterOpen, setIsMobileFilterOpen] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(30);\r\n  const [sortBy, setSortBy] = useState('price_asc');\r\n\r\n  const { addToCart } = useCart();\r\n  const { isAuthenticated } = useUser();\r\n  const navigate = useNavigate();\r\n  const loc = useLocation();\r\n  const [filters, setFilters] = useState({\r\n    sizes: null,\r\n    colors: null,\r\n    priceRange: null,\r\n    eras: null,\r\n    styles: null,\r\n    conditions: null\r\n  });\r\n\r\n  const debouncedSearchQuery = useDebounce(searchQuery, 300);\r\n\r\n  // Load products from API\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [loadingProducts, setLoadingProducts] = useState(true);\r\n  const [offlineFallback, setOfflineFallback] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    const offlineHandler = () => setOfflineFallback(true);\r\n    window.addEventListener('likwapu:offline-fallback', offlineHandler);\r\n    const loadProducts = async () => {\r\n      setLoadingProducts(true);\r\n      try {\r\n        // getProducts already returns normalized products array\r\n        const normalized = await productService.getProducts();\r\n        if (isMounted) {\r\n          setAllProducts(Array.isArray(normalized) ? normalized : []);\r\n          try {\r\n            const buf = Array.isArray(window.__LIK_MONITOR_BUFFER) ? window.__LIK_MONITOR_BUFFER : [];\r\n            const sawFallback = buf.some(e => e && e.event === 'productService.getProducts fallback to mockProducts');\r\n            if (sawFallback) setOfflineFallback(true);\r\n          } catch (_) {}\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch products:', error);\r\n        toast.error('Failed to load products');\r\n      } finally {\r\n        if (isMounted) setLoadingProducts(false);\r\n      }\r\n    };\r\n    loadProducts();\r\n    return () => { \r\n      isMounted = false; \r\n      window.removeEventListener('likwapu:offline-fallback', offlineHandler);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && window.__LIK_OFFLINE_PRODUCTS__) {\r\n      setOfflineFallback(true);\r\n    }\r\n    // Heuristic: if no products loaded and no filters/search applied after load, treat as offline fallback\r\n    const noFilters = Object.values(filters).every(v => v === null);\r\n    if (!loadingProducts && allProducts.length === 0 && noFilters && !debouncedSearchQuery) {\r\n      setOfflineFallback(true);\r\n    }\r\n  }, [allProducts, loadingProducts, filters, debouncedSearchQuery]);\r\n\r\n\r\n\r\n  // Calculate active filters count\r\n  const activeFiltersCount = useMemo(() => {\r\n    return Object.values(filters).filter(value => value !== null).length;\r\n  }, [filters]);\r\n\r\n  // Get active filters for display\r\n  const activeFilters = useMemo(() => {\r\n    const active = {};\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value !== null) {\r\n        active[key] = [value]; // Convert to array for display compatibility\r\n      }\r\n    });\r\n    return active;\r\n  }, [filters]);\r\n\r\n  // Remove individual filter\r\n  const removeFilter = (key, value) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [key]: null\r\n    }));\r\n  };\r\n\r\n  // Clear all filters\r\n  const clearAllFilters = () => {\r\n    setFilters({\r\n      eras: null,\r\n      conditions: null,\r\n      sizes: null,\r\n      colors: null,\r\n      priceRange: null,\r\n      styles: null,\r\n    });\r\n  };\r\n\r\n\r\n\r\n  // Filter and sort products\r\n  const filteredProducts = useMemo(() => {\r\n    let result = [...allProducts];\r\n\r\n    // Apply search\r\n    if (debouncedSearchQuery) {\r\n      result = result.filter(product =>\r\n        product.name.toLowerCase().includes(debouncedSearchQuery.toLowerCase()) ||\r\n        product.description.toLowerCase().includes(debouncedSearchQuery.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Apply filters - single selection\r\n    if (filters.sizes) {\r\n      result = result.filter(product =>\r\n        product.size === filters.sizes\r\n      );\r\n    }\r\n    if (filters.colors) {\r\n      result = result.filter(product =>\r\n        product.color === filters.colors\r\n      );\r\n    }\r\n    if (filters.eras) {\r\n      result = result.filter(product =>\r\n        product.decade === filters.eras\r\n      );\r\n    }\r\n    if (filters.styles) {\r\n      result = result.filter(product =>\r\n        product.style === filters.styles\r\n      );\r\n    }\r\n    if (filters.conditions) {\r\n      result = result.filter(product =>\r\n        product.condition === filters.conditions\r\n      );\r\n    }\r\n    if (filters.priceRange) {\r\n      result = result.filter(product => {\r\n        const price = product.price;\r\n        switch (filters.priceRange) {\r\n          case 'Under $25':\r\n            return price < 25;\r\n          case '$25 - $50':\r\n            return price >= 25 && price <= 50;\r\n          case '$50 - $100':\r\n            return price >= 50 && price <= 100;\r\n          case '$100 - $200':\r\n            return price >= 100 && price <= 200;\r\n          case 'Over $200':\r\n            return price > 200;\r\n          default:\r\n            return true;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Apply sorting\r\n    switch (sortBy) {\r\n      case 'price_asc':\r\n        result.sort((a, b) => a.price - b.price);\r\n        break;\r\n      case 'price_desc':\r\n        result.sort((a, b) => b.price - a.price);\r\n        break;\r\n      case 'era_asc':\r\n        result.sort((a, b) => a.eraYear - b.eraYear);\r\n        break;\r\n      case 'era_desc':\r\n        result.sort((a, b) => b.eraYear - a.eraYear);\r\n        break;\r\n      default:\r\n        result.sort((a, b) => a.price - b.price);\r\n    }\r\n\r\n    return result;\r\n  }, [debouncedSearchQuery, filters, sortBy, allProducts]);\r\n\r\n  const products = filteredProducts;\r\n  const totalPages = Math.ceil(products.length / itemsPerPage);\r\n  const paginatedProducts = products.slice(\r\n    (currentPage - 1) * itemsPerPage,\r\n    currentPage * itemsPerPage\r\n  );\r\n\r\n  const handleFilterChange = (filterType, value) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [filterType]: value\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleQuickView = (product) => {\r\n    setSelectedProduct(product);\r\n  };\r\n\r\n  const handleAddToCart = async (product) => {\r\n    const cartItem = {\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.price,\r\n      image: product.image,\r\n      size: Array.isArray(product.sizes) ? product.sizes[0] : product.size || 'M',\r\n      color: product.color || 'Default',\r\n      era: product.era,\r\n      quantity: 1\r\n    };\r\n    if (!isAuthenticated) {\r\n      try { localStorage.setItem('pendingCartItem', JSON.stringify(cartItem)); } catch {}\r\n      toast.error('Please log in to add items to your cart');\r\n      navigate('/login', { state: { returnTo: loc.pathname } });\r\n      return;\r\n    }\r\n    try {\r\n      await addToCart(cartItem);\r\n      toast.success(`${product.name} added to cart!`);\r\n    } catch (error) {\r\n      toast.error('Failed to add item to cart');\r\n      console.error('Cart error:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      {/* Filter Header */}\r\n      <div className=\"w-full bg-white border-b border-gray-200 shadow-sm\">\r\n        \r\n        <div className=\"container mx-auto px-4 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            {/* Search Bar */}\r\n            <div className=\"flex-1 max-w-md\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                <Input\r\n                  type=\"search\"\r\n                  placeholder=\"Search products, styles, eras...\"\r\n                  className=\"pl-10 pr-10 w-full\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                />\r\n                {searchQuery && (\r\n                  <button\r\n                    onClick={() => setSearchQuery('')}\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filter Controls */}\r\n            <div className=\"flex items-center gap-4 ml-4\">\r\n              {/* View Mode Toggle - Desktop */}\r\n              <div className=\"hidden md:flex border-2 border-gray-300 rounded-lg overflow-hidden\">\r\n                <button\r\n                  onClick={() => setViewMode('grid')}\r\n                  className={`p-2 ${viewMode === 'grid' ? 'bg-gray-600 text-white' : 'bg-white text-black hover:bg-gray-100'} transition-colors duration-300`}\r\n                >\r\n                  <Grid className=\"h-5 w-5\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setViewMode('list')}\r\n                  className={`p-2 ${viewMode === 'list' ? 'bg-gray-600 text-white' : 'bg-white text-black hover:bg-gray-100'} transition-colors duration-300`}\r\n                >\r\n                  <List className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Sort Dropdown */}\r\n              <Select value={sortBy} onValueChange={setSortBy}>\r\n                <SelectTrigger className=\"w-48\">\r\n                  <SelectValue placeholder=\"Sort by\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"price_asc\">Price (Low to High)</SelectItem>\r\n                  <SelectItem value=\"price_desc\">Price (High to Low)</SelectItem>\r\n                  <SelectItem value=\"era_asc\">Era (Oldest First)</SelectItem>\r\n                  <SelectItem value=\"era_desc\">Era (Newest First)</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n\r\n              {/* Mobile Filter Button */}\r\n              <Button\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                onClick={() => setIsMobileFilterOpen(true)}\r\n                className=\"lg:hidden flex items-center gap-2\"\r\n              >\r\n                <Filter className=\"h-4 w-4\" />\r\n                Filter & Sort\r\n                {activeFiltersCount > 0 && (\r\n                  <Badge variant=\"destructive\" className=\"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs\">\r\n                    {activeFiltersCount}\r\n                  </Badge>\r\n                )}\r\n              </Button>\r\n              \r\n              {/* Desktop Filter Toggle */}\r\n              <Button\r\n                variant=\"secondary\"\r\n                size=\"sm\"\r\n                onClick={() => setShowFilters(!showFilters)}\r\n                className=\"hidden lg:flex items-center gap-2\"\r\n              >\r\n                <Filter className=\"h-4 w-4\" />\r\n                Filter\r\n                {activeFiltersCount > 0 && (\r\n                  <Badge variant=\"destructive\" className=\"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs\">\r\n                    {activeFiltersCount}\r\n                  </Badge>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Active Filters Display */}\r\n          {activeFiltersCount > 0 && (\r\n            <div className=\"flex flex-wrap gap-2 mt-4\">\r\n              {Object.entries(activeFilters).map(([key, values]) =>\r\n                values.map(value => (\r\n                  <Badge\r\n                    key={`${key}-${value}`}\r\n                    variant=\"secondary\"\r\n                    className=\"flex items-center gap-1\"\r\n                  >\r\n                    {value}\r\n                    <X\r\n                      className=\"w-3 h-3 cursor-pointer\"\r\n                      onClick={() => removeFilter(key, value)}\r\n                    />\r\n                  </Badge>\r\n                ))\r\n              )}\r\n              <Button\r\n                variant=\"link\"\r\n                size=\"sm\"\r\n                onClick={clearAllFilters}\r\n                className=\"text-red-600 hover:text-red-700\"\r\n              >\r\n                Clear All\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content with Proper Layout */}\r\n      <div className=\"container mx-auto px-4 py-6\">\r\n        {offlineFallback && (\r\n          <div id=\"offline-banner\" className=\"mb-4 rounded-md border-2 border-yellow-300 bg-yellow-50 text-yellow-800 px-4 py-3\" role=\"alert\">\r\n            Showing offline products. Some features may be unavailable.\r\n          </div>\r\n        )}\r\n        <div className=\"flex\">\r\n          {/* Desktop Sidebar */}\r\n          {showFilters && (\r\n            <aside className=\"hidden lg:block w-80 ml-4 md:ml-8 lg:ml-12 xl:ml-16 transition-all duration-300 flex-shrink-0\">\r\n              <FilterSidebar\r\n                isOpen={true}\r\n                onClose={() => {}}\r\n                filters={filters}\r\n                onFilterChange={handleFilterChange}\r\n                onClearFilters={clearAllFilters}\r\n              />\r\n            </aside>\r\n          )}\r\n\r\n          {/* Product Grid */}\r\n          <main className={`flex-1 min-w-0 ${showFilters ? 'pl-6 lg:pl-8' : ''}`}>\r\n            {/* Results Count */}\r\n            <div className=\"mb-6\">\r\n              <p className=\"text-gray-600\">\r\n                Showing {products.length} of {allProducts.length} products\r\n              </p>\r\n            </div>\r\n\r\n            {/* View Mode Toggle - Mobile */}\r\n            <div className=\"md:hidden mb-4 flex justify-end\">\r\n              <div className=\"flex border-2 border-gray-300 rounded-lg overflow-hidden\">\r\n                <button\r\n                  onClick={() => setViewMode('grid')}\r\n                  className={`p-2 ${viewMode === 'grid' ? 'bg-gray-600 text-white' : 'bg-white text-black hover:bg-gray-100'} transition-colors duration-300`}\r\n                >\r\n                  <Grid className=\"h-5 w-5\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setViewMode('list')}\r\n                  className={`p-2 ${viewMode === 'list' ? 'bg-gray-600 text-white' : 'bg-white text-black hover:bg-gray-100'} transition-colors duration-300`}\r\n                >\r\n                  <List className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Products */}\r\n            {loadingProducts ? (\r\n              <div className=\"w-full flex justify-center items-center py-16\">\r\n                <svg className=\"animate-spin h-8 w-8 text-gray-700\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\r\n                </svg>\r\n              </div>\r\n            ) : paginatedProducts.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <p className=\"text-gray-500 text-lg\">No products found matching your criteria.</p>\r\n                <Button\r\n                  onClick={clearAllFilters}\r\n                  className=\"mt-4\"\r\n                >\r\n                  Clear Filters\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div className={`grid gap-4 ${\r\n                  viewMode === 'grid'\r\n                    ? 'grid-cols-1 sm:grid-cols-2 md:grid-cols-3'\r\n                    : 'grid-cols-1'\r\n                }`}>\r\n                  {paginatedProducts.map((product) => (\r\n                    <ProductCard\r\n                      key={product.id}\r\n                      product={product}\r\n                      viewMode={viewMode}\r\n                      onQuickView={() => handleQuickView(product)}\r\n                      onAddToCart={() => handleAddToCart(product)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Pagination */}\r\n                {totalPages > 1 && (\r\n                  <div className=\"mt-12 flex flex-col sm:flex-row items-center justify-between gap-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"text-sm text-gray-600\">Items per page:</span>\r\n                      <Select\r\n                        value={itemsPerPage.toString()}\r\n                        onValueChange={(value) => {\r\n                          setItemsPerPage(Number(value));\r\n                          setCurrentPage(1);\r\n                        }}\r\n                      >\r\n                        <SelectTrigger className=\"w-20\">\r\n                          <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"12\">12</SelectItem>\r\n                          <SelectItem value=\"24\">24</SelectItem>\r\n                          <SelectItem value=\"30\">30</SelectItem>\r\n                          <SelectItem value=\"48\">48</SelectItem>\r\n                          <SelectItem value=\"96\">96</SelectItem>\r\n                          <SelectItem value=\"100\">100</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Button\r\n                        variant=\"secondary\"\r\n                        size=\"sm\"\r\n                        onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                        disabled={currentPage === 1}\r\n                      >\r\n                        <ChevronLeft className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      \r\n                      <span className=\"px-4 py-2 text-sm\">\r\n                        Page {currentPage} of {totalPages}\r\n                      </span>\r\n                      \r\n                      <Button\r\n                        variant=\"secondary\"\r\n                        size=\"sm\"\r\n                        onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n                        disabled={currentPage === totalPages}\r\n                      >\r\n                        <ChevronRight className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </main>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Filter Overlay */}\r\n      <Sheet open={isMobileFilterOpen} onOpenChange={setIsMobileFilterOpen}>\r\n        <SheetContent side=\"left\" className=\"w-full sm:w-80 p-0\">\r\n          <SheetHeader className=\"p-6 border-b\">\r\n            <SheetTitle>Filter Products</SheetTitle>\r\n          </SheetHeader>\r\n          <div className=\"p-6 overflow-y-auto\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-lg font-semibold\">Filter & Sort</h2>\r\n              <button\r\n                onClick={() => setIsMobileFilterOpen(false)}\r\n                className=\"p-2 hover:bg-gray-100 rounded\"\r\n              >\r\n                <X className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n            <FilterSidebar\r\n              isOpen={isMobileFilterOpen}\r\n              onClose={() => setIsMobileFilterOpen(false)}\r\n              filters={filters}\r\n              onFilterChange={handleFilterChange}\r\n              onClearFilters={clearAllFilters}\r\n            />\r\n          </div>\r\n        </SheetContent>\r\n      </Sheet>\r\n\r\n      {/* Quick View Modal */}\r\n      <AnimatePresence>\r\n        {selectedProduct && (\r\n          <QuickViewModal\r\n            product={selectedProduct}\r\n            isOpen={!!selectedProduct}\r\n            onClose={() => setSelectedProduct(null)}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCatalogPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}